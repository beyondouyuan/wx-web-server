!function(e){function t(t){for(var r,o,l=t[0],i=t[1],u=t[2],d=0,f=[];d<l.length;d++)o=l[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(s&&s(t);f.length;)f.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,l=1;l<n.length;l++){var i=n[l];0!==a[i]&&(r=!1)}r&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={9:0},c=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/static/";var l=window.webpackJsonp=window.webpackJsonp||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var s=i;c.push([51,0]),n()}({10:function(e,t,n){},11:function(e,t,n){},16:function(e,t,n){"use strict";var r=n(0),a=n.n(r);n(18);t.a=function(e){return a.a.createElement("div",{className:"no-data-container"},a.a.createElement("div",{className:"no-data-main"}),a.a.createElement("div",{className:"no-data-content"},e.text))}},17:function(e,t,n){"use strict";t.a=function(e,t,n){var r=null,a=Date.parse(new Date);return function(){null!==r&&clearTimeout(r);var c=Date.parse(new Date),o=this,l=arguments;c-a>=n?(e.apply(o,l),a=c):r=setTimeout((function(){e.apply(o,l)}),t)}}},18:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(3),o=n.n(c),l=n(4),i=n.n(l),u=n(12),s=n.n(u),d=n(5),f=n.n(d),m=n(6),h=n.n(m),v=n(1),p=n.n(v),y=n(0),E=n.n(y),b=n(7);n(44);var g=function(e){return E.a.createElement("div",{className:"resource-item-container"},E.a.createElement("div",{className:"resource-item",onClick:function(){}},E.a.createElement("div",{className:"resource-item-image"}),E.a.createElement("div",{className:"resource-item-main"},E.a.createElement("div",{className:"title"},null==e?void 0:e.title),E.a.createElement("div",{className:"desc"},null==e?void 0:e.desc))))},N=n(16),w=n(17);n(45);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var k=[{title:"我校隆重举行秋季学期开学典礼",desc:"2020年9月1日清晨，阳光明媚，秋高气爽。我校4100多师生相聚在共青湖畔美丽的两中校园怀，2020年9月1日清晨，阳光明媚，秋高气爽。我校4100多师生相聚在共青湖畔美丽的两中校园怀",id:1},{title:"我校隆重举行秋季学期开学典礼",desc:"2020年9月1日清晨，阳光明媚，秋高气爽。我校4100多师生相聚在共青湖畔美丽的两中校园怀",id:2},{title:"我校隆重举行秋季学期开学典礼",desc:"2020年9月1日清晨，阳光明媚，秋高气爽。我校4100多师生相聚在共青湖畔美丽的两中校园怀",id:3},{title:"我校隆重举行秋季学期开学典礼",desc:"2020年9月1日清晨，阳光明媚，秋高气爽。我校4100多师生相聚在共青湖畔美丽的两中校园怀",id:4},{title:"我校隆重举行秋季学期开学典礼",desc:"2020年9月1日清晨，阳光明媚，秋高气爽。我校4100多师生相聚在共青湖畔美丽的两中校园怀",id:5},{title:"我校隆重举行秋季学期开学典礼",desc:"2020年9月1日清晨，阳光明媚，秋高气爽。我校4100多师生相聚在共青湖畔美丽的两中校园怀",id:6},{title:"我校隆重举行秋季学期开学典礼",desc:"2020年9月1日清晨，阳光明媚，秋高气爽。我校4100多师生相聚在共青湖畔美丽的两中校园怀",id:7}],D=function(e){f()(n,e);var t=S(n);function n(){var e;return o()(this,n),(e=t.apply(this,arguments)).state={currentPage:1,loading:!1,resource:k,curId:k.length,noMore:!1,noData:!1},e.handlePublish=e.handlePublish.bind(s()(e)),e.handleScroll=e.handleScroll.bind(s()(e)),e.handleThrottleScroll=e.handleThrottleScroll.bind(s()(e)),e.fetchData=e.fetchData.bind(s()(e)),e}return i()(n,[{key:"componentDidMount",value:function(){var e=document.getElementById("scroll-main");e&&e.addEventListener("scroll",this.handleThrottleScroll)}},{key:"componentWillUnmount",value:function(){var e=document.getElementById("scroll-main");e&&e.removeEventListener("scroll",this.handleThrottleScroll)}},{key:"handlePublish",value:function(){this.props.history.push("publish")}},{key:"handleThrottleScroll",value:function(e){if(!window.requestAnimationFrame)return Object(w.a)(this.handleScroll,300)(e);window.requestAnimationFrame(this.handleScroll)}},{key:"handleScroll",value:function(e){var t=document.getElementById("scroll-main");t.scrollTop+50>=t.offsetHeight&&this.fetchData()}},{key:"fetchData",value:function(){if(this.state.curId>=30)this.state.noMore||this.setState({noMore:!0});else{for(var e=[],t=0;t<10;t++){var n=this.state.curId;e.push({title:"我校隆重举行秋季学期开学典礼",desc:"2020年9月1日清晨，阳光明媚，秋高气爽。我校4100多师生相聚在共青湖畔美丽的两中校园怀",id:n+1}),this.setState({curId:n+1})}this.setState((function(t){return{resource:t.resource.concat(e)}}))}}},{key:"renderNoData",value:function(){return E.a.createElement("div",{className:"resource-container"},E.a.createElement("div",{className:"resource-content"},E.a.createElement("div",{className:"resource-main"},E.a.createElement(N.a,{text:"暂无资源内容"}))),E.a.createElement("div",{className:"resource-page-footer"},E.a.createElement("div",{className:"submit-btn",onClick:this.handlePublish},"我要发布")))}},{key:"render",value:function(){var e=this.state,t=e.resource,n=e.noMore;return e.noData?this.renderNoData():E.a.createElement("div",{className:"resource-container"},E.a.createElement("div",{className:"resource-content"},E.a.createElement("div",{className:"resource-main",id:"scroll-main"},t.map((function(e){return E.a.createElement(g,a()({key:e.id},e))})),n&&E.a.createElement("div",{className:"no-more"},"暂无更多数据"))),E.a.createElement("div",{className:"resource-page-footer"},E.a.createElement("div",{className:"submit-btn",onClick:this.handlePublish},"我要发布")))}}]),n}(y.Component);Object(b.a)(D)},7:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(0),a=n.n(r),c=n(8),o=n.n(c),l=(n(9),n(3)),i=n.n(l),u=n(4),s=n.n(u),d=n(5),f=n.n(d),m=n(6),h=n.n(m),v=n(1),p=n.n(v);n(13);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var E=function(e){f()(n,e);var t=y(n);function n(){var e;return i()(this,n),(e=t.apply(this,arguments)).state={error:null},e}return s()(n,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){var e=this.state.error,t=this.props,n=t.children,r=t.placeholder;return e?r:n}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),n}(a.a.Component),b=n(2),g=n.n(b);function N(e){return a.a.createElement(E,g()({},e,{placeholder:a.a.createElement(w,null)}))}function w(){return a.a.createElement("div",null,a.a.createElement("div",{className:"component-error-boundary-page-placeholder"},a.a.createElement("h1",null,"对不起，程序出错了！"),a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){window.location.reload()}},"重新加载"))))}n(14),n(10),n(11);function S(e,t){try{o.a.render(a.a.createElement(N,{key:"error"},a.a.createElement(e,null)),document.getElementById("root"),(function(){t&&t()}))}catch(e){window.confirm("程序出错，重新打开页面？")&&window.location.reload()}}},9:function(e,t,n){}});